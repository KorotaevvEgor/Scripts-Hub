# 🚀 Scripts Hub - Vacancy Parser
## Полный обзор проекта

---

## 📋 О проекте

**Scripts Hub - Vacancy Parser** — это комплексное веб-приложение для автоматизированного парсинга вакансий с расширенной системой управления доступом пользователей. Проект построен на современных технологиях и обеспечивает полный цикл работы с данными о вакансиях: от автоматического сбора до детального анализа и экспорта.

---

## 🏗️ Технологический стек

### Backend (Серверная часть)
- **Django 5.2.5** - Основной веб-фреймворк
- **Django REST Framework 3.16.1** - API framework
- **Python 3.12** - Язык программирования
- **SQLite 3** - База данных
- **Requests 2.32.5** - HTTP клиент для API

### Frontend (Клиентская часть)
- **Bootstrap 5** - CSS фреймворк
- **jQuery 3.x** - JavaScript библиотека
- **Font Awesome** - Иконки
- **Django Templates** - Шаблонизатор

### Обработка данных
- **Pandas 2.3.1** - Анализ данных
- **OpenPyXL 3.1.5** - Генерация Excel файлов
- **NumPy 2.3.2** - Математические операции

### Безопасность
- **Django Auth System** - Аутентификация
- **CSRF/XSS Protection** - Защита от атак
- **Custom Access Control** - Управление доступом

---

## ✨ Ключевые возможности

### 🔍 Автоматический парсинг вакансий
- ✅ Интеграция с HeadHunter API
- ✅ Настраиваемые поисковые запросы
- ✅ Контроль лимитов и пагинации
- ✅ Дедупликация и валидация данных
- ✅ Отслеживание изменений вакансий

### 👥 Система управления доступом
- ✅ Трёхуровневая система ролей:
  - 👑 **Суперпользователи** - полный доступ
  - 👤 **Создатели** - доступ к своим скриптам
  - 👥 **Пользователи** - ограниченный доступ
- ✅ Гранулярные права доступа через ManyToMany связи
- ✅ Административная панель для управления

### 🤖 Управление скриптами
- ✅ Создание и настройка скриптов через админку
- ✅ Асинхронный запуск с мониторингом в реальном времени
- ✅ Полная история запусков с детальной статистикой
- ✅ Веб-интерфейс для управления и мониторинга

### 📊 Отчеты и экспорт данных
- ✅ **Excel экспорт** с тремя листами:
  - 📄 Информационный лист
  - 🆕 Новые вакансии
  - 📋 Существующие вакансии
- ✅ Профессиональное форматирование Excel
- ✅ Веб-интерфейс для просмотра результатов
- ✅ Фильтрация и группировка данных

### 🎨 Современный интерфейс
- ✅ Адаптивный дизайн (Bootstrap 5)
- ✅ Интуитивная навигация
- ✅ AJAX взаимодействия
- ✅ Модальные окна и компоненты
- ✅ Мобильная совместимость

---

## 🏛️ Архитектура проекта

```
┌─────────────────────────────────────────┐
│           PRESENTATION LAYER            │
│  Web Browser │ Mobile App │ API Client  │
└─────────────────┬───────────────────────┘
                  │
┌─────────────────▼───────────────────────┐
│         WEB FRAMEWORK LAYER             │
│    Django Framework (Templates,        │
│    Views, URL Routing, Middleware)      │
└─────────────────┬───────────────────────┘
                  │
┌─────────────────▼───────────────────────┐
│         APPLICATION LAYER               │
│  Scripts App │ Auth App │ Admin App     │
└─────────────────┬───────────────────────┘
                  │
┌─────────────────▼───────────────────────┐
│           SERVICE LAYER                 │
│ Parser Service │ Export │ Access Control │
└─────────────────┬───────────────────────┘
                  │
┌─────────────────▼───────────────────────┐
│        DATA ACCESS LAYER                │
│        Django ORM (Models, QS)          │
└─────────────────┬───────────────────────┘
                  │
┌─────────────────▼───────────────────────┐
│          DATABASE LAYER                 │
│            SQLite Database              │
└─────────────────────────────────────────┘
```

---

## 🗂️ Структура проекта

```
vacancy_parser/
├── 📁 scripts/                 # Основное приложение
│   ├── models.py               # Модели данных
│   ├── views.py                # Представления
│   ├── admin.py                # Админка
│   ├── urls.py                 # URL маршруты
│   ├── parser.py               # Логика парсинга
│   └── 📁 migrations/          # Миграции БД
├── 📁 templates/               # HTML шаблоны
│   ├── base.html               # Базовый шаблон
│   ├── home.html               # Главная страница
│   └── 📁 scripts/             # Шаблоны скриптов
├── 📁 static/                  # Статические файлы
├── 📁 venv/                    # Виртуальное окружение
├── manage.py                   # Django управление
├── requirements.txt            # Зависимости
└── 📄 *.md                     # Документация
```

---

## 🔐 Безопасность

### Встроенная защита Django
- **CSRF Protection** - Токены против подделки запросов
- **XSS Protection** - Экранирование вывода
- **SQL Injection Protection** - Параметризованные запросы
- **Clickjacking Protection** - X-Frame-Options заголовки

### Кастомная система доступа
- **Role-based Access Control (RBAC)**
- **Object-level Permissions**
- **Session Management**
- **Password Hashing (PBKDF2)**

---

## 📊 Модели данных

```python
# Основные модели
Script          # Скрипты парсинга
├── allowed_users (M2M)  # Пользователи с доступом
├── created_by (FK)      # Создатель
└── runs (1:M)           # История запусков

ScriptRun       # История запусков
├── script (FK)          # Связанный скрипт
├── started_by (FK)      # Кто запустил
└── vacancy_runs (1:M)   # Найденные вакансии

Vacancy         # Данные вакансий
├── script (FK)          # Владелец-скрипт
└── runs (M2M via VacancyRun)  # Запуски

VacancyRun      # Связь вакансий с запусками
├── script_run (FK)      # Запуск
├── vacancy (FK)         # Вакансия
└── is_new_in_run        # Флаг новизны
```

---

## ⚡ Производительность

### Оптимизация запросов
- **select_related()** для ForeignKey
- **prefetch_related()** для ManyToMany
- **Database Indexes** на часто используемых полях
- **QuerySet Caching** для повторных запросов

### Асинхронность
- **Threading** для фонового парсинга
- **AJAX** для real-time обновлений
- **Background Tasks** для длительных операций

---

## 📱 Пользовательский интерфейс

### Главная страница
- 📊 Dashboard с ключевыми метриками
- 📈 Статистика запусков за сегодня
- 📋 Список доступных скриптов
- ⚡ Быстрый доступ к функциям

### Страница скрипта
- ℹ️ Детальная информация о скрипте
- ▶️ Кнопка запуска с real-time мониторингом
- 📊 Статистика последнего запуска
- 📤 Экспорт результатов в Excel
- 👀 Предпросмотр найденных вакансий

### Административная панель
- 🛠️ Создание и настройка скриптов
- 👥 Управление доступом пользователей
- 📊 Мониторинг системы
- 📈 Аналитика и статистика

---

## 📋 Основные потоки работы

### 1. Создание скрипта
```
Admin → Create Script → Configure Parameters → 
Assign Users → Activate
```

### 2. Запуск парсинга
```
User → Select Script → Run → Monitor Progress → 
View Results → Export if needed
```

### 3. Управление доступом
```
Admin → Users Management → Select Users → 
Assign to Scripts → Save Permissions
```

---

## 🚀 Развертывание

### Системные требования
- **OS**: Ubuntu Linux (или Windows/macOS для разработки)
- **Python**: 3.12+
- **Memory**: 512MB+ RAM
- **Storage**: 1GB+ свободного места

### Быстрый старт
```bash
# Клонирование и настройка
cd /var/www/scriptshub/Scripts-Hub/vacancy_parser
source venv/bin/activate

# Применение миграций
python manage.py migrate

# Создание суперпользователя
python manage.py createsuperuser

# Запуск сервера
python manage.py runserver 0.0.0.0:8000
```

### Автозапуск
- 🐧 **Linux**: `./start_server.sh`
- 🪟 **Windows**: `start_server.bat`
- 💻 **PowerShell**: `start_server.ps1`

---

## 📚 Документация

Полная документация проекта включает:

1. **[TECH_STACK.md](TECH_STACK.md)** - Детальное описание технологий
2. **[ARCHITECTURE_DIAGRAM.md](ARCHITECTURE_DIAGRAM.md)** - Диаграммы архитектуры
3. **[FEATURE_SUMMARY.md](FEATURE_SUMMARY.md)** - Сводка всех функций
4. **[ACCESS_CONTROL_README.md](ACCESS_CONTROL_README.md)** - Система доступа
5. **[README.md](README.md)** - Основная документация
6. **[QUICK_START.md](QUICK_START.md)** - Быстрый старт

---

## 🎯 Достижения проекта

### ✅ Функциональность
- Полнофункциональная система парсинга вакансий
- Гибкая система управления доступом
- Современный веб-интерфейс
- Профессиональные отчеты в Excel
- Real-time мониторинг процессов

### ✅ Качество кода
- Чистая архитектура с разделением ответственности
- Современные паттерны проектирования
- Comprehensive error handling
- Подробная документация
- Type hints и валидация

### ✅ Безопасность
- Встроенная защита Django
- Кастомная система авторизации
- Валидация всех пользовательских данных
- Безопасное хранение паролей
- HTTPS ready (в production)

### ✅ Производительность
- Оптимизированные запросы к БД
- Асинхронная обработка задач
- Кэширование результатов
- Эффективное использование памяти

### ✅ Масштабируемость
- Модульная архитектура
- Легкое добавление новых источников данных
- Поддержка множественных пользователей
- Готовность к переходу на PostgreSQL

---

## 🔮 Перспективы развития

### Краткосрочные цели (1-3 месяца)
- 🔄 **Celery интеграция** - Продвинутые очереди задач
- 📧 **Email уведомления** - Автоматические уведомления
- 🚀 **Docker контейнеризация** - Упрощение развертывания
- 📱 **PWA поддержка** - Progressive Web App

### Среднесрочные цели (3-6 месяцев)
- 🗃️ **PostgreSQL миграция** - Промышленная БД
- 🌐 **Дополнительные API** - SuperJob, Habr Career
- 📊 **Advanced Analytics** - Глубокая аналитика данных
- 🤖 **Telegram Bot** - Управление через мессенджер

### Долгосрочные цели (6+ месяцев)
- ⚛️ **React/Vue frontend** - Современный SPA интерфейс
- 📱 **Mobile applications** - Нативные мобильные приложения
- 🧠 **ML/AI интеграция** - Анализ трендов и рекомендации
- ☁️ **Cloud deployment** - AWS/GCP развертывание

---

## 👥 Команда и вклад

### Архитектура и Backend
- **Django Framework** - Серверная логика
- **Python Ecosystem** - Обработка данных
- **Database Design** - Структура БД

### Frontend и UX
- **Bootstrap Design System** - Современный интерфейс
- **JavaScript/jQuery** - Интерактивность
- **Responsive Design** - Адаптивность

### DevOps и Инфраструктура
- **Linux Deployment** - Серверное развертывание
- **Process Management** - Управление процессами
- **Security Configuration** - Настройка безопасности

---

## 📞 Поддержка и контакты

### Техническая поддержка
- 🐛 **Bug Reports** - Сообщения об ошибках
- 💡 **Feature Requests** - Предложения по улучшению
- 📚 **Documentation** - Помощь с документацией

### Системные требования
- **Minimum**: Python 3.8+, 256MB RAM, 500MB Storage
- **Recommended**: Python 3.12+, 1GB RAM, 2GB Storage
- **Production**: Ubuntu 20.04+, PostgreSQL, Nginx+Gunicorn

---

## 🏆 Заключение

**Scripts Hub - Vacancy Parser** представляет собой современное, полнофункциональное решение для автоматизации процесса поиска и анализа вакансий. Проект демонстрирует:

- 🏗️ **Solid Architecture** - Чистая архитектура с четким разделением слоев
- 🔒 **Enterprise Security** - Промышленный уровень безопасности
- 🚀 **High Performance** - Оптимизированная производительность
- 📱 **Modern UX** - Современный пользовательский опыт
- 🔧 **Maintainable Code** - Легко поддерживаемый и расширяемый код

Проект готов к производственному использованию и может служить основой для дальнейшего развития HR-tech решений.

---

**© 2025 Scripts Hub - Vacancy Parser. Построено с ❤️ на Django**
